{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\valtt\\\\OneDrive - Karelia Ammattikorkeakoulu Oy\\\\Web\\\\Teht6\\\\teht6ui\\\\src\\\\context\\\\GlobalState.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from \"react\";\nimport AppReducer from \"./AppReducer\";\nimport urheilijatContext from \"./urheilijatContext\";\nimport { GET_URHEILIJAT } from \"./types\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GlobalState = props => {\n  _s();\n  //initial state\n  let initialState = {\n    urheilijat: []\n  };\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n  const getUrheilijat = async () => {\n    try {\n      let res = await axios.get(\"http://localhost:3001/urheilijat\");\n      let {\n        data\n      } = res;\n      dispatch({\n        type: GET_URHEILIJAT,\n        payload: data\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const getUrheilija = async id => {\n    try {\n      let sql = \"http://localhost:3001/urheilijat/\" + id;\n      //alert(sql);\n      let res = await axios.get(sql);\n      let {\n        data\n      } = res;\n      console.log(\"GET_URHEILIJA:\");\n      //dispatch({ type: \"GET_YHTEYSTIETO\", payload: res.data });\n      dispatch({\n        type: \"GET_URHEILIJA\",\n        payload: data\n      });\n      return data;\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const addUrheilija = async uusiUrheilija => {\n    try {\n      const res = await axios.post(`http://localhost:3001/lisaa`, uusiUrheilija).then(res => {\n        dispatch({\n          type: \"ADD_URHEILIJA\",\n          payload: res.data\n        });\n        console.log(res.data);\n      });\n      console.log(res);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const updateUrheilija = async (id, paivitettyUrheilija) => {\n    try {\n      const res = await axios.put(`http://localhost:3001/urheilijat/${id}`, paivitettyUrheilija).then(res => {\n        dispatch({\n          type: \"EDIT_URHEILIJA\",\n          payload: res.data\n        });\n        console.log(res.data);\n      });\n      console.log(res);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  const deleteUrheilija = async id => {\n    try {\n      let sql = \"http://localhost:3001/urheilijat/\" + id[\"id\"];\n      const res = await axios.delete(sql).then(res => {\n        dispatch({\n          type: \"DELETE_URHEILIJA\",\n          payload: id[\"id\"]\n        });\n        console.log(res.data);\n      });\n      console.log(res);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(urheilijatContext.Provider, {\n    value: {\n      urheilijat: state.urheilijat,\n      getUrheilija,\n      getUrheilijat,\n      addUrheilija,\n      updateUrheilija,\n      deleteUrheilija\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n//};\n_s(GlobalState, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = GlobalState;\nexport default GlobalState;\nvar _c;\n$RefreshReg$(_c, \"GlobalState\");","map":{"version":3,"names":["React","useReducer","AppReducer","urheilijatContext","GET_URHEILIJAT","axios","GlobalState","props","initialState","urheilijat","state","dispatch","getUrheilijat","res","get","data","type","payload","error","console","getUrheilija","id","sql","log","addUrheilija","uusiUrheilija","post","then","updateUrheilija","paivitettyUrheilija","put","deleteUrheilija","delete","children"],"sources":["C:/Users/valtt/OneDrive - Karelia Ammattikorkeakoulu Oy/Web/Teht6/teht6ui/src/context/GlobalState.js"],"sourcesContent":["import React, { useReducer } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\nimport urheilijatContext from \"./urheilijatContext\";\r\nimport { GET_URHEILIJAT } from \"./types\";\r\nimport axios from \"axios\";\r\nconst GlobalState = (props) => {\r\n  //initial state\r\n  let initialState = {\r\n    urheilijat: [],\r\n  };\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n  const getUrheilijat = async () => {\r\n    try {\r\n      let res = await axios.get(\"http://localhost:3001/urheilijat\");\r\n      let { data } = res;\r\n      dispatch({ type: GET_URHEILIJAT, payload: data });\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const getUrheilija = async (id) => {\r\n    try {\r\n      let sql = \"http://localhost:3001/urheilijat/\" + id;\r\n      //alert(sql);\r\n      let res = await axios.get(sql);\r\n      let { data } = res;\r\n      console.log(\"GET_URHEILIJA:\");\r\n      //dispatch({ type: \"GET_YHTEYSTIETO\", payload: res.data });\r\n      dispatch({ type: \"GET_URHEILIJA\", payload: data });\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const addUrheilija = async (uusiUrheilija) => {\r\n    try {\r\n      const res = await axios\r\n        .post(`http://localhost:3001/lisaa`, uusiUrheilija)\r\n        .then((res) => {\r\n          dispatch({ type: \"ADD_URHEILIJA\", payload: res.data });\r\n          console.log(res.data);\r\n        });\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const updateUrheilija = async (id, paivitettyUrheilija) => {\r\n    try {\r\n      const res = await axios\r\n        .put(`http://localhost:3001/urheilijat/${id}`, paivitettyUrheilija)\r\n        .then((res) => {\r\n          dispatch({ type: \"EDIT_URHEILIJA\", payload: res.data });\r\n          console.log(res.data);\r\n        });\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  const deleteUrheilija = async (id) => {\r\n    try {\r\n      let sql = \"http://localhost:3001/urheilijat/\" + id[\"id\"];\r\n\r\n      const res = await axios.delete(sql).then((res) => {\r\n        dispatch({ type: \"DELETE_URHEILIJA\", payload: id[\"id\"] });\r\n        console.log(res.data);\r\n      });\r\n      console.log(res);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n  return (\r\n    <urheilijatContext.Provider\r\n      value={{\r\n        urheilijat: state.urheilijat,\r\n        getUrheilija,\r\n        getUrheilijat,\r\n        addUrheilija,\r\n        updateUrheilija,\r\n        deleteUrheilija,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </urheilijatContext.Provider>\r\n  );\r\n};\r\n//};\r\nexport default GlobalState;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}